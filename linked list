#include <cstdio>
using namespace std;

struct Node
{
	char data;
	Node* prev;
	Node* next;
};

Node* ptr;
Node* head;
Node* tail;

void Add(char c)
{
	Node* temp = new Node;
	temp->data = c;
	ptr->next->prev = temp;
	temp->next = ptr->next;
	ptr->next = temp;
	temp->prev = ptr;
	ptr = temp;
}

int main()
{
	char str[100001];
	scanf("%s", str);
	Node* node = new Node;
	head = node;
	tail = head;
	head->next = tail;
	head->prev = tail;
	tail->next = head;
	tail->prev = head;
	ptr = head;
	for (int i = 0; str[i]; i++)
	{
		Add(str[i]);
	}
	int N;
	scanf("%d", &N);
	for (int i = 0; i < N; i++)
	{
		char c;
		scanf(" %c", &c);
		if (c == 'L')
		{
			if(ptr!=head)
				ptr = ptr->prev;
		}
		else if (c == 'D')
		{
			if(ptr->next!=tail)
				ptr = ptr->next;
		}
		else if (c == 'B')
		{
			if (ptr != head)
			{
				Node* temp = ptr;
				ptr->prev->next = temp->next;
				ptr->next->prev = temp->prev;
				ptr = temp->prev;
				delete temp;
			}
		}
		else if (c == 'P')
		{
			char c2;
			scanf(" %c", &c2);
			Add(c2);
		}
	}
	ptr = head->next;
	while (ptr !=tail)
	{
		printf("%c", ptr->data);
		ptr = ptr->next;
	}
	puts("");
	return 0;
}
