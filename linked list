#include <cstdio>
using namespace std;

struct Node
{
	char c;
	Node* prev;
	Node* next;
};

Node* ptr;
Node* head;
Node* tail;

void init()
{
	Node* node = new Node;
	head = tail = node;
	head->next = tail;
	head->prev = tail;
	tail->next = head;
	tail->prev = head;
	ptr = head;
}

void add(char c)
{
	Node* temp = new Node;
	temp->c = c;
	ptr->next->prev = temp;
	temp->next = ptr->next;
	ptr->next = temp;
	temp->prev = ptr;
	ptr = temp;
}

void del()
{
	Node* temp = ptr;
	ptr->prev->next = temp->next;
	ptr->next->prev = temp->prev;
	ptr = temp->prev;
	delete temp;
}

int main()
{
	init();
	char str[100001];
	scanf("%s", str);
	for (int i = 0; str[i]; i++)
		add(str[i]);
	int N;
	scanf("%d", &N);
	for (int i = 0; i < N; i++)
	{
		char c;
		scanf(" %c", &c);
		if (c == 'L')
		{
			if (ptr != head)
				ptr = ptr->prev;
		}
		else if (c == 'D')
		{
			if (ptr->next != tail)
				ptr = ptr->next;
		}
		else if (c == 'B')
		{
			if (ptr != head)
			{
				del();
			}
		}
		else if (c == 'P')
		{
			char c2;
			scanf(" %c", &c2);
			add(c2);
		}
	}
	ptr = head->next;
	while (ptr != tail)
	{
		printf("%c", ptr->c);
		ptr = ptr->next;
	}
	puts("");
	return 0;
}
